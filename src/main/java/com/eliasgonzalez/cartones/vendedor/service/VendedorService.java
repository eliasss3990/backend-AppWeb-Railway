package com.eliasgonzalez.cartones.vendedor.service;import com.eliasgonzalez.cartones.excel.interfaces.IExcelService;import com.eliasgonzalez.cartones.pdf.entity.PdfProcesos;import com.eliasgonzalez.cartones.pdf.interfaces.PdfProcesosRepository;import com.eliasgonzalez.cartones.vendedor.dto.VendedorResponseDTO;import com.eliasgonzalez.cartones.vendedor.entity.Vendedor;import com.eliasgonzalez.cartones.vendedor.interfaces.IVendedorService;import com.eliasgonzalez.cartones.vendedor.interfaces.VendedorRepository;import com.eliasgonzalez.cartones.vendedor.mapper.VendedorMapper;import lombok.extern.slf4j.Slf4j;import org.springframework.transaction.annotation.Transactional;import lombok.RequiredArgsConstructor;import org.springframework.stereotype.Service;import org.springframework.web.multipart.MultipartFile;import java.util.List;import java.util.UUID;@Service@RequiredArgsConstructor@Slf4j@Transactionalpublic class VendedorService implements IVendedorService {    private final VendedorRepository vendedorRepo;    private final IExcelService excelService;    private final PdfProcesosRepository pdfProcesosRepo;    @Override    public List<VendedorResponseDTO> listaVendedores() {        List<Vendedor> vendedores = vendedorRepo.findAll();        log.info("Total de vendedores encontrados: {}", vendedores.size());        return VendedorMapper.toVendedorResponseDTOs(vendedores);    }    @Override    public List<VendedorResponseDTO> listarVendedoresValidos(String procesoIdRecibido) {        List<Vendedor> vendedores = vendedorRepo.findVendedoresValidos(procesoIdRecibido);        log.info("Vendedores v√°lidos obtenidos de BD: {}", vendedores.size());        return VendedorMapper.toVendedorResponseDTOs(vendedores);    }    @Override    public void eliminarTodosLosVendedores() {        vendedorRepo.deleteAll();        log.info("Eliminando todos los registros. Total de vendedores encontrados: {}", vendedorRepo.count());    }    @Override    public void procesarExcel(MultipartFile file, String procesoIdCreado) {        excelService.leerExcel(file, procesoIdCreado);    }    @Override    public String iniciarProceso() {        String procesoIdCreado = UUID.randomUUID().toString();        pdfProcesosRepo.save(PdfProcesos                .builder()                .procesoId(procesoIdCreado)                .build());        return procesoIdCreado;    }}